<!DOCTYPE html>
<html>
<head>
    <title>Teacher Profile - Hometown Heroes</title>
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
</head>
<body>
    <header>
        <h1>Teacher Profile</h1>
    </header>

    <nav>
        <ul>
            <li><a href="/pages/homepage.html">Home</a></li>
            <li><a href="/pages/about.html">About</a></li>
            <li><a href="/pages/contact.html">Contact</a></li>
        </ul>
    </nav>

    <main>
        <section class="profile" id="profile-section">
            <div class="teacher-info" id="teacher-info">
                <!--<img src="teacher-profile-pic.jpg" alt="Teacher Profile Picture">-->
                <h2 id="teacher-name">Teacher Name</h2>
                <p id="school-name">School: School Name</p>
                <!-- Display county, state in the location section -->
                <p id="location">Location: County, State</p>
            </div>
    
            <div class="wishlist" id="wishlist-section">
                <h2>Amazon Wishlist</h2>
                <p>Here is my Amazon wishlist where you can help support my classroom:</p>
                <!-- Use a placeholder link; it will be updated dynamically -->
                <a href="#" class="btn" target="_blank" id="wishlistLink">View Wishlist</a>
            </div>
        </section>
    
        <section class="about-me" id="about-me-section">
            <h2>About Me</h2>
            <p id="about-me">Share a personal message, your teaching philosophy, and classroom needs here. Tell potential supporters about your goals and the impact their help can make.</p>
        </section>
    </main>

    <!-- Edit button for admin users -->
    <a href="edit_teacher.html" class="btn" id="editButton" style="display: none;">Edit</a>

    <script>
        fetch('/get_teacher_info/')
            .then(response => response.json())
            .then(data => {
                if (data) {
                    // Display county, state in the location section
                    document.getElementById('location').innerText = `Location: ${data.county} County, ${data.state}`;
    
                    // Update other sections with teacher information
                    document.getElementById('teacher-name').innerText = data.teacher;
                    document.getElementById('school-name').innerText = `School: ${data.school}`;
                    document.getElementById('about-me').innerText = data.about_me;
    
                    // Update the Amazon Wishlist link
                    const wishlistLink = document.getElementById('wishlistLink');
                    wishlistLink.href = data.wishlist_url;
    
                    fetch('/profile/')
                        .then(response => response.json())
                        .then(profileData => {
                            if (profileData.user_role === 'admin') {
                                document.getElementById('editButton').style.display = 'block';
                            }
                        })
                        .catch(error => console.error('Error fetching profile data:', error));
                }
            })
            .catch(error => console.error('Error fetching teacher info:', error));
    </script>
    
    

    <footer>
        <p>&copy; 2023 Hometown Heroes</p>
    </footer>
</body>
</html>
